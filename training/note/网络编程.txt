# 网络编程

## 网络编程入门

net包是网络相关的核心包, net里面包含了http、rpc等关键包
net包里最重要的两个调用
    Listen(network, addr string) 监听某个端口, 等待客户端连接
    Dial(network, addr string) 拨号, 连接上某个服务端

处理连接基本上就是在一个for循环内
    ① 先读数据: 读数据就是根据上层协议来决定怎么读, 例如, 简单的RPC协议一般分成两段读, 先读头部, 根据头部得知body有多长, 再把剩下的数据读出来
    ② 处理数据
    ③ 即便处理数据出错了, 也要返回一个错误给客户端, 不然客户端不知道你处理出错了
在读写数据的时候, 都可能遇到错误, 一般来说代表连接已经关闭的是 EOF, ErrUnexpectedEOF, ErrClosed
    建议只要是出错了就直接关闭, 这样对客户端和服务端代码都简单